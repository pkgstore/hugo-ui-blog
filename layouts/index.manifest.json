{{- $icons := (site.Data.ui.icons.sizes) -}}
{{- $cfg := (site.Params.manifest) -}}

{
  "id": "{{ (("/") | absLangURL) }}",
  "name": "{{ (site.Title) }}",
  "short_name": "{{ ($cfg.short_name) }}",
  "description": "{{ (site.Params.description) }}",
  "start_url": "{{ (("/") | absLangURL) }}",
  "scope": "/",
  "display": "minimal-ui",
  "background_color": "{{ ($cfg.color.background) }}",
  "theme_color": "{{ ($cfg.color.theme) }}",
  "categories": [
    {{ range $i, $e := ($cfg.categories) }}{{ if ($i) }},{{ end }}"{{ ($e) }}"{{ end }}
  ],
  "icons": [
    {{ range $i, $e := ($icons) }}{"src":"{{ ((printf "favicon-%s.png" ($e)) | absURL) }}","sizes":"{{ ($e) }}x{{ ($e) }}","type":"image/png"},{{ end }}
    {
      "src": "{{ (("favicon.svg") | absURL) }}",
      "sizes": "any",
      "type": "image/svg+xml"
    }
  ],
  "shortcuts": [
    {
      "name": "{{ (i18n "posts") }}",
      "url": "{{ (("posts/") | absLangURL) }}",
      "icons": [
        {{ range $i, $e := ($icons) }}{"src":"{{ ((printf "favicon-%s.png" ($e)) | absURL) }}","type":"image/png","sizes":"{{ ($e) }}x{{ ($e) }}"},{{ end }}
        {
          "src": "{{ (("favicon.svg") | absURL) }}",
          "type": "image/svg+xml",
          "sizes": "any"
        }
      ]
    },
    {
      "name": "{{ (i18n "archive") }}",
      "url": "{{ (("archive/") | absLangURL) }}",
      "icons": [
        {{ range $i, $e := ($icons) }}{"src":"{{ ((printf "favicon-%s.png" ($e)) | absURL) }}","type":"image/png","sizes":"{{ ($e) }}x{{ ($e) }}"},{{ end }}
        {
          "src": "{{ (("favicon.svg") | absURL) }}",
          "type": "image/svg+xml",
          "sizes": "any"
        }
      ]
    },
    {
      "name": "{{ (i18n "categories") }}",
      "url": "{{ (("categories/") | absLangURL) }}",
      "icons": [
        {{ range $i, $e := ($icons) }}{"src":"{{ ((printf "favicon-%s.png" ($e)) | absURL) }}","type":"image/png","sizes":"{{ ($e) }}x{{ ($e) }}"},{{ end }}
        {
          "src": "{{ (("favicon.svg") | absURL) }}",
          "type": "image/svg+xml",
          "sizes": "any"
        }
      ]
    },
    {
      "name": "{{ (i18n "tags") }}",
      "url": "{{ (("tags/") | absLangURL) }}",
      "icons": [
        {{ range $i, $e := ($icons) }}{"src":"{{ ((printf "favicon-%s.png" ($e)) | absURL) }}","type":"image/png","sizes":"{{ ($e) }}x{{ ($e) }}"},{{ end }}
        {
          "src": "{{ (("favicon.svg") | absURL) }}",
          "type": "image/svg+xml",
          "sizes": "any"
        }
      ]
    },
    {
      "name": "{{ (i18n "authors") }}",
      "url": "{{ (("authors/") | absLangURL) }}",
      "icons": [
        {{ range $i, $e := ($icons) }}{"src":"{{ ((printf "favicon-%s.png" ($e)) | absURL) }}","type":"image/png","sizes":"{{ ($e) }}x{{ ($e) }}"},{{ end }}
        {
          "src": "{{ (("favicon.svg") | absURL) }}",
          "type": "image/svg+xml",
          "sizes": "any"
        }
      ]
    }
  ]
}
